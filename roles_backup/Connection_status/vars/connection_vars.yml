---
# roles/Connection_status/vars/connection_vars.yml
# TEMPORARY: Using explicit credentials for testing
# TODO: Move sensitive data to Ansible Vault after successful testing

# Report Configuration
report_timestamp_format: "%Y-%m-%d_%H-%M-%S"
connection_flags_reference: |
  Connection Status Report
  Generated from FMC Unified Events

time_ranges:
  1hour: 3600
  6hours: 21600
  1day: 86400
  1week: 604800
  2weeks: 1209600
  1month: 2592000
  
# API Settings
limit: 100
use_rest_api: true
use_direct_ssh: true  # Enable as fallback if API doesn't return data
generate_traffic: false  # Generate test traffic before collecting
wait_after_traffic: 20  # Wait time for FMC to log connections

# Ubuntu Test VM Settings (for traffic generation)
# Based on your network setup where Ubuntu VM is at 192.168.197.101
ubuntu_vm_ip: "192.168.197.101"
ubuntu_vm_user: "kavin"
ubuntu_vm_password: "Ubuntu@123"  # REPLACE with your actual Ubuntu password

# FTD SSH Settings (fallback method)
ftd_ssh_ip: "10.12.201.213"
ftd_ssh_username: "admin"
ftd_ssh_password: "ZAQ!23edcx"

# Output Configuration
export_csv: "yes"
email_to: "kavineshmanimaran@gmail.com"
store_to_repo: "yes"
include_reference_header: true
debug_mode: true  # Set to true initially to see detailed output

# GitHub Configuration
github_repo_owner: "kavinesh-m"
github_repo_name: "FTD_FMCv"
github_repo_path: "reports/fmc/connection_status/2025"
github_branch: "main"  # or "master" depending on your repo
# github_token: "ghp_YOUR_GITHUB_TOKEN_HERE"  # REPLACE with your GitHub Personal Access Token

# Gmail SMTP Configuration for Email Reports
# IMPORTANT: You need to use Gmail App Password, not your regular password
# Steps to get App Password:
# 1. Enable 2FA on your Gmail account
# 2. Go to: https://myaccount.google.com/apppasswords
# 3. Generate an app password for "Mail"
smtp_username: "kavineshmanimaran@gmail.com"
smtp_password: "mplj zgqt ddpw kjxj"  # REPLACE with your 16-character Gmail App Password (no spaces)

# Test Destinations for Traffic Generation
test_destinations:
  - { ip: "8.8.8.8", port: 53, protocol: "udp", service: "DNS" }
  - { ip: "1.1.1.1", port: 443, protocol: "tcp", service: "HTTPS" }
  - { ip: "192.168.200.10", port: 80, protocol: "tcp", service: "HTTP" }
  - { ip: "192.168.200.10", port: 443, protocol: "tcp", service: "HTTPS" }
  - { ip: "192.168.200.10", port: 22, protocol: "tcp", service: "SSH" }
  - { ip: "192.168.100.10", port: 80, protocol: "tcp", service: "HTTP" }

# FMC API Endpoints to test (for FMC 7.4.2)
api_endpoint: "/api/fmc_tid/v1/domain/{domain_uuid}/search/connectionevents"
use_post_method: true

# CSV Export Settings
csv_delimiter: ","
csv_include_timestamp: true
csv_output_path: "/tmp"

# Connection Data Fields to Export
connection_fields:
  - Time
  - Event_Type
  - Action
  - Source_IP
  - Source_Port
  - Destination_IP
  - Destination_Port
  - Protocol
  - Device
  - Access_Control_Rule
  - Application

# Retry Settings
max_retries: 3
retry_delay: 5

# Performance Settings
parallel_requests: false
request_timeout: 30